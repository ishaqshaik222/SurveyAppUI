(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{41:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(14),a=c.n(s),j=(c(41),c(15)),i=c(5),l=c(7),d=c(11),o=c(10),h=c.n(o),b=c(17),O=c(29),u=c.n(O),x=function(){var e=window.location,t=e.search,c=e.hash;return r.a.useMemo((function(){return new URLSearchParams(c?"?".concat(c.split("?")[1]):t)}),[t,c])},p=c(66),m=c(71),f=c(0),g=Object(b.GoogleApiWrapper)({apiKey:"AIzaSyCE1xTn0k-vpSWBSLyfL47GonM-hvX-Y2g"})((function(e){var t,c=e.google,r=x(),s=Object(l.f)(),a=Object(n.useState)(r.get("date")||u()().format("YYYY-MM-DD")),j=Object(i.a)(a,2),o=j[0],O=j[1],g=Object(n.useState)(r.get("date")||u()().format("YYYY-MM-DD")),v=Object(i.a)(g,2),A=v[0],S=v[1],E=Object(n.useState)([]),y=Object(i.a)(E,2),T=y[0],I=y[1],N=Object(n.useState)(!1),D=Object(i.a)(N,2),R=D[0],C=D[1],L=Object(n.useState)(!1),w=Object(i.a)(L,2),M=w[0],k=w[1],_=function(){var e=Object(d.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!1),C(!0),e.next=5,fetch("".concat("http://3.109.197.149/projects/survey_app/api","/getSurveyData.php"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({uid:r.get("id"),to:o,from:A,state:r.get("state"),assembly:r.get("assembly")})});case 5:return t=e.sent,console.log(t),e.next=9,t.json();case 9:if("ERROR"!==(c=e.sent).status){e.next=13;break}return I([]),e.abrupt("return");case 13:I(c.response.REPORT),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log({error:e.t0});case 19:return e.prev=19,k(!0),C(!1),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[0,16,19,23]])})));return function(){return e.apply(this,arguments)}}();null===(t=r.get("id"))||void 0===t||t.toString();return Object(n.useEffect)((function(){_()}),[A,o]),Object(f.jsxs)("div",{className:"container p-5",children:[Object(f.jsxs)("div",{className:"col-md-8 my-5",children:[Object(f.jsx)("div",{className:"row p-2",children:Object(f.jsxs)("h1",{children:["Showing ",T.length," records for ",r.get("name")]})}),Object(f.jsxs)("div",{className:"row p-2",children:[Object(f.jsx)("div",{className:"col-md-3",children:Object(f.jsx)("label",{htmlFor:"from",children:"From Date"})}),Object(f.jsx)("input",{name:"from",type:"date",value:A,className:"col-md-3",placeholder:"Calendar",onChange:function(e){return S(e.target.value)}}),Object(f.jsx)("label",{className:"col-md-3",htmlFor:"to",children:"To Date"}),Object(f.jsx)("input",{name:"to",type:"date",value:o,className:"col-md-3",placeholder:"Calendar",onChange:function(e){return O(e.target.value)}})]})]}),R&&Object(f.jsx)("h1",{children:"Loading..."}),M&&0===T.length&&Object(f.jsx)("h1",{children:"No Data found!"}),T.length>0&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)(p.a,{striped:!0,hover:!0,size:"sm",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Actions"}),Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"Respondent"}),Object(f.jsx)("th",{children:"Mobile"}),Object(f.jsx)("th",{children:"Date Time"}),Object(f.jsx)("th",{children:"Latitude"}),Object(f.jsx)("th",{children:"Longitude"}),Object(f.jsx)("th",{children:"A1"}),Object(f.jsx)("th",{children:"A2"}),Object(f.jsx)("th",{children:"A3"}),Object(f.jsx)("th",{children:"A4"}),Object(f.jsx)("th",{children:"A5"}),Object(f.jsx)("th",{children:"A6"}),Object(f.jsx)("th",{children:"A7"}),Object(f.jsx)("th",{children:"A8"}),Object(f.jsx)("th",{children:"A9"}),Object(f.jsx)("th",{children:"A10"}),Object(f.jsx)("th",{children:"A12"}),Object(f.jsx)("th",{children:"A13"}),Object(f.jsx)("th",{children:"A14"}),Object(f.jsx)("th",{children:"A15"}),Object(f.jsx)("th",{children:"A16"}),Object(f.jsx)("th",{children:"A17"}),Object(f.jsx)("th",{children:"A18"}),Object(f.jsx)("th",{children:"A19"}),Object(f.jsx)("th",{children:"A20"}),Object(f.jsx)("th",{children:"A21"}),Object(f.jsx)("th",{children:"A22"}),Object(f.jsx)("th",{children:"RECORD_ID"}),Object(f.jsx)("th",{children:"Audit Status"}),Object(f.jsx)("th",{children:"Comments"})]})}),Object(f.jsx)("tbody",{children:T.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsxs)("td",{children:[Object(f.jsx)(m.a,{variant:"secondary",onClick:function(){return function(e){var t,c=null===(t=r.get("managerId"))||void 0===t?void 0:t.toString();s("/actions?RId=".concat(e.RECORD_ID,"&managerId=").concat(c))}(e)},children:"Action"})," "]}),Object(f.jsx)("td",{children:t+1}),Object(f.jsx)("td",{children:e.RESPONDENT}),Object(f.jsx)("td",{children:e.MOBILE}),Object(f.jsx)("td",{children:e.DATETIME}),Object(f.jsx)("td",{children:e.LAT}),Object(f.jsx)("td",{children:e.LONGITUDE}),Object(f.jsx)("td",{children:e.A1}),Object(f.jsx)("td",{children:e.A2}),Object(f.jsx)("td",{children:e.A3}),Object(f.jsx)("td",{children:e.A4}),Object(f.jsx)("td",{children:e.A5}),Object(f.jsx)("td",{children:e.A6}),Object(f.jsx)("td",{children:e.A7}),Object(f.jsx)("td",{children:e.A8}),Object(f.jsx)("td",{children:e.A9}),Object(f.jsx)("td",{children:e.A10}),Object(f.jsx)("td",{children:e.A11}),Object(f.jsx)("td",{children:e.A12}),Object(f.jsx)("td",{children:e.A13}),Object(f.jsx)("td",{children:e.A14}),Object(f.jsx)("td",{children:e.A15}),Object(f.jsx)("td",{children:e.A16}),Object(f.jsx)("td",{children:e.A17}),Object(f.jsx)("td",{children:e.A18}),Object(f.jsx)("td",{children:e.A19}),Object(f.jsx)("td",{children:e.A20}),Object(f.jsx)("td",{children:e.A21}),Object(f.jsx)("td",{children:e.A22}),Object(f.jsx)("td",{children:e.RECORD_ID}),Object(f.jsx)("td",{children:e.AUDIT_STATUS}),Object(f.jsx)("td",{children:e.COMMENTS})]},t)}))})]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(b.Map,{google:c,initialCenter:{lat:T[0].LAT,lng:T[0].LONGITUDE},containerStyle:{width:"80vw",height:"80vh"},mapTypeControl:!1,streetViewControl:!1,children:T.map((function(e,t){return Object(f.jsx)(b.Marker,{label:"".concat(t+1),title:"".concat(t+1," ").concat(e.RESPONDENT.toLowerCase()," (").concat(e.MOBILE,") ").concat(e.DATETIME),position:{lat:e.LAT,lng:e.LONGITUDE}},t)}))})})]})]})})),v=function(){var e=x(),t=Object(n.useState)([]),c=Object(i.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(!1),j=Object(i.a)(a,2),o=j[0],b=j[1],O=function(){var t=Object(d.a)(h.a.mark((function t(){var c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(!0),t.next=4,fetch("".concat("http://3.109.197.149/projects/survey_app/api","/getFieldWorkers.php"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({manager_id:e.get("managerId")})});case 4:return c=t.sent,t.next=7,c.json();case 7:"SURVEY_LIST_EMPTY"!==(n=t.sent).response&&s(n.response.REPORT),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log({error:t.t0});case 14:return t.prev=14,b(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){O()}),[]);var u=Object(l.f)();return o?Object(f.jsx)("h1",{children:"Loading..."}):0===(null===r||void 0===r?void 0:r.length)?Object(f.jsx)("h1",{children:"No Data found!"}):Object(f.jsx)("div",{className:"container p-5",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"Date"}),Object(f.jsx)("th",{children:"Field Worker"}),Object(f.jsx)("th",{children:"Surveys"}),Object(f.jsx)("th",{children:"Mobile"}),Object(f.jsx)("th",{children:"State"}),Object(f.jsx)("th",{children:"Assembly"})]})}),Object(f.jsx)("tbody",{children:r.map((function(t,c){return Object(f.jsxs)("tr",{style:{cursor:"pointer"},onClick:function(){return function(t,c,n,r,s){var a="/details?id=".concat(t,"&name=").concat(c,"&date=").concat(n,"&state=").concat(r,"&assembly=").concat(s,"&managerId=").concat(e.get("managerId"));u("/details?id=".concat(t,"&name=").concat(c,"&date=").concat(n,"&state=").concat(r,"&assembly=").concat(s,"&managerId=").concat(e.get("managerId")),{state:a})}(t.ID,t.FIRST_NAME,t.DATE,t.STATE,t.ASSEMBLY)},children:[Object(f.jsx)("td",{children:c+1}),Object(f.jsx)("td",{children:t.DATE}),Object(f.jsx)("td",{children:t.FIRST_NAME}),Object(f.jsx)("td",{children:t.SURVEYS}),Object(f.jsx)("td",{children:t.MOBILE}),Object(f.jsx)("td",{children:t.STATE}),Object(f.jsx)("td",{children:t.ASSEMBLY})]},c)}))})]})})})},A=c(8),S=c(2),E=c(70),y=function(){Object(l.g)();var e,t=null===(e=x().get("RId"))||void 0===e?void 0:e.toString(),c=null!=sessionStorage.getItem("userDetails")?JSON.parse(sessionStorage.getItem("userDetails")||"{}"):{},r=Object(n.useState)({recordId:t,comments:"",auditType:"",status:"Valid",createdBy:c.userId}),s=Object(i.a)(r,2),a=s[0],j=s[1],o=Object(n.useCallback)((function(e,t){console.log("value",t),j((function(c){return Object(S.a)(Object(S.a)({},c),{},Object(A.a)({},e,t))}))}),[a]),b=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://3.109.197.149/projects/survey_app/api","/saveActionComments.php"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(a)});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log({error:e.t0});case 9:return e.prev=9,e.finish(9);case 11:case"end":return e.stop()}}),e,null,[[0,6,9,11]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"container p-5",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{children:Object(f.jsxs)(E.a,{onSubmit:function(){console.log(a),b(),alert("Data Submitted Successfully")},children:[Object(f.jsxs)(E.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(f.jsx)(E.a.Label,{children:"Record Id"}),Object(f.jsx)(E.a.Control,{value:t,type:"text",placeholder:"Record Id",readOnly:!0})]}),Object(f.jsxs)(E.a.Group,{className:"mb-3",controlId:"formBasicStatus",children:[Object(f.jsx)(E.a.Label,{children:"Status"}),Object(f.jsxs)(E.a.Select,{"aria-label":"Default select example",onChange:function(e){return o("status",e.target.value)},children:[Object(f.jsx)("option",{value:"Valid",children:"Valid"}),Object(f.jsx)("option",{value:"In Valid",children:"In Valid"}),Object(f.jsx)("option",{value:"Need Review",children:"Need Review"})]})]}),Object(f.jsxs)(E.a.Group,{className:"mb-3",controlId:"formBasicComments",children:[Object(f.jsx)(E.a.Label,{children:"Comments"}),Object(f.jsx)(E.a.Control,{type:"text",placeholder:"Comments",value:a.comments,onChange:function(e){return o("comments",e.target.value)}})]}),Object(f.jsxs)(E.a.Group,{className:"mb-3",controlId:"formBasicComments",children:[Object(f.jsx)(E.a.Label,{children:"Auditor Type"}),Object(f.jsx)(E.a.Control,{type:"text",placeholder:"Auditor Type",value:a.auditType,onChange:function(e){return o("auditType",e.target.value)}})]}),Object(f.jsx)(m.a,{variant:"primary",type:"submit",children:"Submit"})]})})})})},T=(c(63),"http://3.109.197.149/projects/survey_app/api"),I=function(){var e=Object(l.f)(),t=Object(n.useState)([]),c=Object(i.a)(t,2),r=c[0],s=c[1],a=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"".concat(T,"/getReportsIndividual.php"),fetch("".concat(T,"/getReportsIndividual.php"),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);s(t.response.REPORT)})).catch((function(e){return console.log("error",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a()}),[]),Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(f.jsx)("h1",{children:"Reports"}),Object(f.jsx)("div",{style:{width:"90vw"},children:Object(f.jsxs)(p.a,{bordered:!0,hover:!0,children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"MODULE"}),Object(f.jsx)("th",{children:"REPORT_NAME"})]})}),Object(f.jsx)("tbody",{children:r.map((function(t,c){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:c+1}),Object(f.jsxs)("td",{children:[t.MODULE," "]}),Object(f.jsxs)("td",{children:[t.REPORT_NAME," "]}),Object(f.jsx)("td",{children:Object(f.jsx)("button",{onClick:function(){var c;c=t.QUERY,e("/report-results",{state:c})},children:"Pull Report"})})]},c.toString())}))})]})})]})},N=function(e){var t=Object(l.e)().state,c=Object(n.useState)([]),r=Object(i.a)(c,2),s=r[0],a=r[1],j=Object(n.useState)([]),o=Object(i.a)(j,2),b=o[0],O=o[1],u=function(){var e=Object(d.a)(h.a.mark((function e(){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c="".concat(T,"/getReportsResults.php"),fetch(c,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:t})}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e),c=Object.keys(t.response[0]);console.log("row data",t.response),console.log("headers",c),O(t.response),a(c)})).catch((function(e){return console.log("error",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:Object(f.jsxs)("div",{style:{width:"90vw"},children:[Object(f.jsx)("h1",{children:"Reports Results"}),Object(f.jsxs)(p.a,{bordered:!0,hover:!0,children:[Object(f.jsx)("thead",{children:s.length>0?Object(f.jsx)("tr",{children:s.map((function(e,t){return Object(f.jsx)("th",{children:e})}))}):Object(f.jsx)(f.Fragment,{})}),Object(f.jsx)("tbody",{children:b.length>0?b.map((function(e,t){return Object(f.jsx)("tr",{children:s.map((function(t,c){return Object(f.jsxs)("td",{children:[e[t]," "]})}))},t.toString())})):Object(f.jsx)(f.Fragment,{})})]})]})})},D={url:{API_URL:"http://3.109.197.149/projects/survey_app/api"}},R=D.url.API_URL,C=function(){var e,t=null===(e=x().get("managerId"))||void 0===e?void 0:e.toString(),c=Object(n.useState)([]),r=Object(i.a)(c,2),s=r[0],a=r[1],j=Object(n.useState)(!1),o=Object(i.a)(j,2),b=o[0],O=o[1],u=function(){var e=Object(d.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,fetch("".concat(R,"/getAssemblyGrillData.php"),{method:"GET",headers:{"content-type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,a(c.response.REPORT),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log({error:e.t0});case 14:return e.prev=14,O(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){u()}),[]);var p=Object(l.f)();return b?Object(f.jsx)("h1",{children:"Loading..."}):0===s.length?Object(f.jsx)("h1",{children:"No Data found!"}):Object(f.jsx)("div",{className:"container p-5",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"State"}),Object(f.jsx)("th",{children:"Status"}),Object(f.jsx)("th",{children:"Survey Counts"})]})}),Object(f.jsx)("tbody",{children:s.map((function(e,c){return Object(f.jsxs)("tr",{style:{cursor:"pointer"},onClick:function(){return c=e.STATE_CD,n=e.STATUS,void p("/get-reports?state=".concat(c,"&status=").concat(n,"&managerId=").concat(t));var c,n},children:[Object(f.jsx)("td",{children:c+1}),Object(f.jsx)("td",{children:e.STATE_CD}),Object(f.jsx)("td",{children:e.STATUS}),Object(f.jsx)("td",{children:e.SURVEYS})]},c)}))})]})})})},L=D.url.API_URL,w=function(){var e=x(),t=Object(n.useState)([]),c=Object(i.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(!1),j=Object(i.a)(a,2),o=j[0],b=j[1],O=function(){var t=Object(d.a)(h.a.mark((function t(){var c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(!0),t.next=4,fetch("".concat(L,"/getReports.php"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({state:e.get("state"),status:e.get("status")})});case 4:return c=t.sent,t.next=7,c.json();case 7:n=t.sent,s(n.response.REPORT),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log({error:t.t0});case 14:return t.prev=14,b(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){O()}),[]);var u=Object(l.f)();return o?Object(f.jsx)("h1",{children:"Loading..."}):r?Object(f.jsx)("div",{className:"container p-5",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"Assembly Code"}),Object(f.jsx)("th",{children:"Assembly Name"}),Object(f.jsx)("th",{children:"Completed"}),Object(f.jsx)("th",{children:"Status"})]})}),Object(f.jsx)("tbody",{children:r.map((function(t,c){return Object(f.jsxs)("tr",{style:{cursor:"pointer"},onClick:function(){return c=t.ASSEMBLY_CODE,n=t.STATUS,void u("/get-report-details?code=".concat(c,"&status=").concat(n,"&state=").concat(e.get("state"),"&managerId=").concat(e.get("managerId")));var c,n},children:[Object(f.jsx)("td",{children:c+1}),Object(f.jsx)("td",{children:t.ASSEMBLY_CODE}),Object(f.jsx)("td",{children:t.ASSEMBLY_NAME}),Object(f.jsx)("td",{children:t.COMPLETED}),Object(f.jsx)("td",{children:t.STATUS})]},c)}))})]})})}):Object(f.jsx)("h1",{children:"No Data found!"})},M=D.url.API_URL,k=Object(b.GoogleApiWrapper)({apiKey:"AIzaSyCE1xTn0k-vpSWBSLyfL47GonM-hvX-Y2g"})((function(e){var t=e.google,c=Object(l.f)(),r=x(),s=Object(n.useState)([]),a=Object(i.a)(s,2),j=a[0],o=a[1],O=Object(n.useState)(!1),u=Object(i.a)(O,2),p=u[0],g=u[1],v=function(){var e=Object(d.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,fetch("".concat(M,"/getReportDetails.php"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({code:r.get("code"),status:r.get("status"),state:r.get("state")})});case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,o(c.response.REPORT),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log({error:e.t0});case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[]);return p?Object(f.jsx)("h1",{children:"Loading..."}):0===j.length?Object(f.jsx)("h1",{children:"No Data found!"}):Object(f.jsxs)("div",{className:"container p-5",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{style:{position:"sticky",top:0,background:"#fff"},children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"Interviewer Name"}),Object(f.jsx)("th",{children:"Interviewer Mobile"}),Object(f.jsx)("th",{children:"Respondent"}),Object(f.jsx)("th",{children:"Respondent Mobile"}),Object(f.jsx)("th",{children:"Date Time"}),Object(f.jsx)("th",{children:"Assembly Code"}),Object(f.jsx)("th",{children:"Assembly Name"}),Object(f.jsx)("th",{children:"Latitude"}),Object(f.jsx)("th",{children:"Longitude"}),Object(f.jsx)("th",{children:"A1"}),Object(f.jsx)("th",{children:"A2"}),Object(f.jsx)("th",{children:"A3"}),Object(f.jsx)("th",{children:"A4"}),Object(f.jsx)("th",{children:"A5"}),Object(f.jsx)("th",{children:"A6"}),Object(f.jsx)("th",{children:"A7"}),Object(f.jsx)("th",{children:"A8"}),Object(f.jsx)("th",{children:"A9"}),Object(f.jsx)("th",{children:"A10"}),Object(f.jsx)("th",{children:"A11"}),Object(f.jsx)("th",{children:"A12"}),Object(f.jsx)("th",{children:"A13"}),Object(f.jsx)("th",{children:"A14"}),Object(f.jsx)("th",{children:"A15"}),Object(f.jsx)("th",{children:"A16"}),Object(f.jsx)("th",{children:"A17"}),Object(f.jsx)("th",{children:"A18"}),Object(f.jsx)("th",{children:"A19"}),Object(f.jsx)("th",{children:"A20"}),Object(f.jsx)("th",{children:"A21"}),Object(f.jsx)("th",{children:"A22"}),Object(f.jsx)("th",{children:"RECORD_ID"})]})}),Object(f.jsx)("tbody",{children:j.map((function(e,t){return Object(f.jsxs)("tr",{style:{cursor:"pointer"},children:[Object(f.jsxs)("td",{children:[Object(f.jsx)(m.a,{variant:"secondary",onClick:function(){return function(e){var t,n=null===(t=r.get("managerId"))||void 0===t?void 0:t.toString();c("/actions?RId=".concat(e.RECORD_ID,"&managerId=").concat(n))}(e)},children:"Action"})," "]}),Object(f.jsx)("td",{children:t+1}),Object(f.jsx)("td",{children:e.FIRST_NAME}),Object(f.jsx)("td",{children:e.MOBILE}),Object(f.jsx)("td",{children:e.RESPONDENT}),Object(f.jsx)("td",{children:e.RESPONDENT_MOBILE}),Object(f.jsx)("td",{children:e.DATETIME}),Object(f.jsx)("td",{children:e.ASSEMBLY_CODE}),Object(f.jsx)("td",{children:e.ASSEMBLY_NAME}),Object(f.jsx)("td",{children:e.LATITUDE}),Object(f.jsx)("td",{children:e.LONGITUDE}),Object(f.jsx)("td",{children:e.A1}),Object(f.jsx)("td",{children:e.A2}),Object(f.jsx)("td",{children:e.A3}),Object(f.jsx)("td",{children:e.A4}),Object(f.jsx)("td",{children:e.A5}),Object(f.jsx)("td",{children:e.A6}),Object(f.jsx)("td",{children:e.A7}),Object(f.jsx)("td",{children:e.A8}),Object(f.jsx)("td",{children:e.A9}),Object(f.jsx)("td",{children:e.A10}),Object(f.jsx)("td",{children:e.A11}),Object(f.jsx)("td",{children:e.A12}),Object(f.jsx)("td",{children:e.A13}),Object(f.jsx)("td",{children:e.A14}),Object(f.jsx)("td",{children:e.A15}),Object(f.jsx)("td",{children:e.A16}),Object(f.jsx)("td",{children:e.A17}),Object(f.jsx)("td",{children:e.A18}),Object(f.jsx)("td",{children:e.A19}),Object(f.jsx)("td",{children:e.A20}),Object(f.jsx)("td",{children:e.A21}),Object(f.jsx)("td",{children:e.A22}),Object(f.jsx)("td",{children:e.RECORD_ID})]},t)}))})]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)(b.Map,{google:t,initialCenter:{lat:j[0].LATITUDE,lng:j[0].LONGITUDE},containerStyle:{width:"80vw",height:"80vh"},mapTypeControl:!1,streetViewControl:!1,children:j.map((function(e,t){return"Booth_lat_long"===e.LAT_LONG_TYPE?Object(f.jsx)(b.Marker,{label:"".concat(e.BOOT_NO),title:"".concat(t+1," ").concat(e.BOOT_NO," ").concat(e.RESPONDENT.toLowerCase()," (").concat(e.MOBILE,") ").concat(e.DATETIME),position:{lat:e.LATITUDE,lng:e.LONGITUDE},icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"}},t):Object(f.jsx)(b.Marker,{title:"".concat(t+1," ").concat(e.RESPONDENT.toLowerCase()," (").concat(e.MOBILE,") ").concat(e.DATETIME),position:{lat:e.LATITUDE,lng:e.LONGITUDE},icon:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}},t)}))})})]})})),_=c(67),U=c(68),P=c(72),B=function(e,t){switch(t.type){case"UPDATE_LOGIN_DATA":return Object(S.a)(Object(S.a)({},e),{},{user:Object(S.a)(Object(S.a)({},e.user),t.payload)});case"CLEAR_DATA":return Object(S.a)({},G);default:return e}},G={user:{status:"UNAUTHORIZED",userId:null,email:null,userName:null,phone:null,gender:null,dob:null,maritalStatus:null,countryCode:null,managerId:0},error:null},Y=Object(n.createContext)(G),J=function(e){var t=e.children,c=Object(n.useReducer)(B,G),r=Object(i.a)(c,2),s=r[0],a=r[1];return Object(f.jsx)(Y.Provider,{value:[s,a],children:t})},F=function(){var e=Object(n.useContext)(Y),t=Object(i.a)(e,2),c=t[0],r=t[1];console.log("STATE",c);var s=Object(l.f)(),a=Object(n.useState)({userId:"",password:"",managerId:""}),j=Object(i.a)(a,2),d=j[0],o=j[1],h=Object(n.useCallback)((function(e,t){console.log("value",t),o((function(c){return Object(S.a)(Object(S.a)({},c),{},Object(A.a)({},e,t))}))}),[d]);return Object(f.jsxs)(_.a,{fluid:"xl",children:[Object(f.jsx)("h1",{children:"Login"}),Object(f.jsxs)(U.a,{className:"justify-content-md-center",children:[Object(f.jsxs)(E.a.Group,{className:"mb-3",children:[Object(f.jsx)(E.a.Label,{children:"Username *"}),Object(f.jsx)(E.a.Control,{required:!0,type:"text",placeholder:"Enter Username",defaultValue:"",value:d.userId,onChange:function(e){return h("userId",e.target.value)}}),Object(f.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]}),Object(f.jsxs)(E.a.Group,{className:"mb-3",children:[Object(f.jsx)(E.a.Label,{children:"Password *"}),Object(f.jsx)(E.a.Control,{required:!0,type:"password",placeholder:"Enter Password",defaultValue:"",value:d.password,onChange:function(e){return h("password",e.target.value)}}),Object(f.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]}),Object(f.jsxs)(E.a.Group,{className:"mb-3",children:[Object(f.jsx)(E.a.Label,{children:"Manager Id *"}),Object(f.jsx)(E.a.Control,{required:!0,type:"text",placeholder:"Enter Manager Id",defaultValue:"",value:d.managerId,onChange:function(e){return h("managerId",e.target.value)}}),Object(f.jsx)(E.a.Control.Feedback,{children:"Looks good!"})]})]}),Object(f.jsx)(P.a,{direction:"horizontal",gap:3,children:Object(f.jsx)(m.a,{variant:"primary",onClick:function(){return function(){if(""!=d.managerId&&""!=d.userId&&""!=d.password){var e="".concat(T,"/surveyAppLogin.php");fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(d)}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e);if("SUCCESS"===t.status){var n=t.response.REPORT[0];r({type:"UPDATE_LOGIN_DATA",payload:{status:"AUTHORIZED",userId:n.ID,userName:n.USERNAME,managerId:d.managerId}});var a=c.user;a.status="AUTHORIZED",a.userId=n.ID,a.userName=n.USERNAME,a.managerId=d.managerId,sessionStorage.setItem("userDetails",JSON.stringify(a)),s("/field-works?managerId="+d.managerId)}else alert("login failed please contact admin")})).catch((function(e){return console.log("error",e)}))}else alert("Manager Id Required")}()},children:"Login"})})]})},V=c(69);function W(){var e=Object(n.useContext)(Y),t=Object(i.a)(e,2),c=(t[0],t[1]),r=Object(l.f)(),s=null!=sessionStorage.getItem("userDetails")?JSON.parse(sessionStorage.getItem("userDetails")||"{}"):{};console.log("sessionStorage",s);return"AUTHORIZED"===(null===s||void 0===s?void 0:s.status)?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)(V.a,{bg:"primary",variant:"dark",fixed:"top",children:Object(f.jsxs)(_.a,{children:[Object(f.jsxs)(V.a.Brand,{children:["Welcome : ",s.userName]}),Object(f.jsx)(V.a.Toggle,{}),Object(f.jsx)(V.a.Collapse,{className:"justify-content-end",children:Object(f.jsx)(m.a,{variant:"danger",onClick:function(){sessionStorage.clear(),c({type:"UPDATE_LOGIN_DATA",payload:{status:"UNAUTHORIZED"}}),r("/")},children:" Sign Out"})})]})})}),Object(f.jsx)("div",{style:{marginTop:"10vh"},children:Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{path:"/field-works",element:Object(f.jsx)(v,{})}),Object(f.jsx)(l.a,{path:"/actions",element:Object(f.jsx)(y,{})}),Object(f.jsx)(l.a,{path:"/details",element:Object(f.jsx)(g,{})}),Object(f.jsx)(l.a,{path:"/get-assembly-grill-down-data",element:Object(f.jsx)(C,{})}),Object(f.jsx)(l.a,{path:"/get-report-details",element:Object(f.jsx)(k,{})}),Object(f.jsx)(l.a,{path:"/get-reports",element:Object(f.jsx)(w,{})}),Object(f.jsx)(l.a,{path:"/login",element:Object(f.jsx)(F,{})}),Object(f.jsx)(l.a,{path:"/report-results",element:Object(f.jsx)(N,{})}),Object(f.jsx)(l.a,{path:"/reports",element:Object(f.jsx)(I,{})})]})})]}):Object(f.jsx)("div",{children:Object(f.jsx)(l.c,{children:Object(f.jsx)(l.a,{path:"/",element:Object(f.jsx)(F,{})})})})}var q=function(){return Object(f.jsx)(j.a,{children:Object(f.jsx)(J,{children:Object(f.jsx)(W,{})})})};a.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(q,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.1e9003ce.chunk.js.map